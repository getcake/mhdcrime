function toggleLegend(){var a=document.getElementById("legend");a.style.display="none"===a.style.display?"block":"none"}
searchMarkers=function(){var a=document.getElementById("search_markers").value;a=a.toUpperCase();for(var b=!1,d=!1,f=!1,g=!1,c=0;c<crime_map_markers.length;c++){if("marblehead"==a.toLowerCase()||3>=a.length){f=!0;break}markers=crime_map_markers[c];if(markers.location){var e=markers.location.replace("ST","STREET").replace("RD","ROAD").replace("AVE","AVENUE").replace("CT","COURT").replace("CIR","CIRCLE").replace("DR","DRIVE").replace("LN","LANE").replace("BLVD","BOULEVARD").replace("CIR","CIRCLE");
if(markers.location.includes(a)||e.includes(a))e=new google.maps.LatLng(markers.lt,markers.ln),crime_map.panTo(e),crime_map.setZoom(17),markers.setAnimation(google.maps.Animation.DROP),d=!0}}for(c=0;c<crime_map_markers.length;c++)markers=crime_map_markers[c],markers.criminal_name&&markers.criminal_name.includes(a)&&(e=new google.maps.LatLng(markers.lt,markers.ln),crime_map.panTo(e),crime_map.setZoom(20),makeBounce(markers),b=!0);for(c=0;c<crime_map_markers.length;c++)markers=crime_map_markers[c],
markers.action_taken&&markers.action_taken.includes(a)&&(e=new google.maps.LatLng(markers.lt,markers.ln),crime_map.panTo(e),crime_map.setZoom(17),makeBounce(markers),g=!0);(f||f&&d)&&alert("Please try using a less generic search term");d||f||d||b||g||alert("No reports found in database. Please try generalizing your search term.")};function makeBounce(a){a.setAnimation(google.maps.Animation.BOUNCE);setTimeout(function(){a.setAnimation(null)},7500)}
function makeDrop(a){a.setAnimation(google.maps.Animation.DROP);setTimeout(function(){a.setAnimation(null)},7500)}function success(){""===document.getElementById("search_markers").value||2>=document.getElementById("search_markers").value.length?document.getElementById("button").disabled=!0:document.getElementById("button").disabled=!1}var input=document.getElementById("search_markers"),awesomplete=new Awesomplete(input,{minChars:1,maxItems:6,autoFirst:!0}),criminal_names_array=[],reason_array=[];
function test(){for(var a=0;a<crime_map_markers.length;a++)if(markers=crime_map_markers[a],markers.criminal_name){name=markers.criminal_name;var b=new google.maps.LatLng(markers.lt,markers.ln);loc=markers.location;reason=markers.reason;criminal_names_array.push(name+" "+b);reason_array.push(reason+" "+b)}awesomplete.list=criminal_names_array}
document.getElementById("search_markers").addEventListener("awesomplete-selectcomplete",function(){z=y=x=this.value;crim_name=x.split("(")[0];crim_name=crim_name.toString();crim_name=crim_name.trim();loc=y;for(var a=0;a<crime_map_markers.length;a++)if(markers=crime_map_markers[a],markers.criminal_name&&crim_name==markers.criminal_name){document.getElementById("button").disabled=!1;y.trim();var b=x.split("(")[1];b=b.split(",");b=b.toString().replace(")","").split(",");name=x.split("(")[0];name=name.toString();
name=name.trim();b=new google.maps.LatLng(Number(b[0]),Number(b[1]));for(var d=0;d<crime_map_markers.length;d++)markers=crime_map_markers[d],markers.criminal_name&&markers.criminal_name.toString()==name&&(crime_map.panTo(b),crime_map.setZoom(20),makeBounce(markers))}});